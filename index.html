<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MangoSwap - Automate Your Trades</title>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-orange-100 via-yellow-50 to-green-100 min-h-screen transition-colors duration-300">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <div class="bg-white rounded-xl shadow-xl p-6 mb-8 border-4 border-orange-300 transition-colors duration-300">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div>
                    <h1 class="text-4xl font-bold bg-gradient-to-r from-orange-500 via-yellow-500 to-green-500 bg-clip-text text-transparent">ü•≠ MangoSwap</h1>
                    <p class="text-gray-700 mt-1 font-medium">Sweet Swaps on Base üå¥</p>
                </div>
                <div class="flex items-center gap-3">
                    <button id="settingsBtn" class="bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white px-4 py-3 rounded-xl font-bold shadow-lg transition transform hover:scale-105">
                        ‚öôÔ∏è Settings
                    </button>
                    <button id="connectBtn" class="bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white px-6 py-3 rounded-xl font-bold shadow-lg transition transform hover:scale-105">Connect Wallet</button>
                </div>
                
                <!-- Settings Modal -->
                <div id="settingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                    <div class="bg-white rounded-2xl p-6 max-w-md w-full mx-4 border-4 border-purple-300 transition-colors duration-300">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">‚öôÔ∏è Settings</h3>
                        
                        <!-- Theme Toggle -->
                        <div class="mb-6 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl border-2 border-purple-200">
                            <label class="block text-sm font-bold text-purple-900 mb-3">üé® Theme</label>
                            <div class="flex gap-3">
                                <button id="lightTheme" class="flex-1 py-2 px-4 rounded-lg font-semibold transition bg-white border-2 border-purple-300 text-purple-900">
                                    ‚òÄÔ∏è Light
                                </button>
                                <button id="darkTheme" class="flex-1 py-2 px-4 rounded-lg font-semibold transition border-2 border-gray-600 text-gray-600">
                                    üåô Dark
                                </button>
                            </div>
                        </div>
                        
                        <!-- Slippage Settings -->
                        <div class="mb-6 p-4 bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl border-2 border-orange-200">
                            <label class="block text-sm font-bold text-orange-900 mb-3">üìä Slippage Tolerance</label>
                            <div class="grid grid-cols-4 gap-2 mb-3">
                                <button class="slippage-btn py-2 px-3 rounded-lg font-semibold transition border-2 border-orange-200 hover:border-orange-400" data-value="0.5">0.5%</button>
                                <button class="slippage-btn py-2 px-3 rounded-lg font-semibold transition border-2 border-orange-200 hover:border-orange-400" data-value="1">1%</button>
                                <button class="slippage-btn py-2 px-3 rounded-lg font-semibold transition bg-orange-500 text-white border-2 border-orange-500" data-value="5">5%</button>
                                <button class="slippage-btn py-2 px-3 rounded-lg font-semibold transition border-2 border-orange-200 hover:border-orange-400" data-value="10">10%</button>
                            </div>
                            <div class="flex items-center gap-2">
                                <input type="number" id="customSlippage" placeholder="Custom" step="0.1" min="0" max="50" class="flex-1 px-3 py-2 border-2 border-orange-200 rounded-lg font-semibold text-center">
                                <span class="font-bold text-orange-900">%</span>
                            </div>
                            <p class="text-xs text-orange-700 mt-2">‚ö†Ô∏è High slippage may result in unfavorable rates</p>
                        </div>
                        
                        <button id="closeSettings" class="w-full bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white font-bold py-3 rounded-xl transition">
                            Save Settings
                        </button>
                    </div>
                </div>
                
                <!-- Wallet Modal -->
                <div id="walletModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                    <div class="bg-white rounded-2xl p-6 max-w-sm w-full mx-4 border-4 border-orange-300 transition-colors duration-300">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">Connect Wallet</h3>
                        <div class="space-y-3">
                            <button id="connectMetaMask" class="w-full bg-gradient-to-r from-orange-400 to-yellow-400 hover:from-orange-500 hover:to-yellow-500 text-white font-bold py-3 rounded-xl transition flex items-center justify-center gap-2">
                                ü¶ä MetaMask
                            </button>
                            <button id="connectPhantom" class="w-full bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 text-white font-bold py-3 rounded-xl transition flex items-center justify-center gap-2">
                                üëª Phantom
                            </button>
                        </div>
                        <button id="closeModal" class="mt-4 w-full text-gray-600 hover:text-gray-800 font-semibold">Cancel</button>
                    </div>
                </div>
                <div id="accountInfo" class="hidden text-right">
                    <div class="text-sm text-gray-600">Connected</div>
                    <div id="accountAddress" class="font-mono text-sm bg-orange-100 px-3 py-1 rounded-lg border-2 border-orange-300"></div>
                </div>
            </div>
        </div>

        <div id="mainContent" class="hidden">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-lg p-6 border-2 border-orange-200 transition-colors duration-300">
                    <div class="text-sm text-orange-700 font-semibold">Total Swaps</div>
                    <div id="totalSwaps" class="text-3xl font-bold text-orange-600">0</div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 border-2 border-yellow-200 transition-colors duration-300">
                    <div class="text-sm text-yellow-700 font-semibold">Scheduled</div>
                    <div id="scheduledCount" class="text-3xl font-bold text-yellow-600">0</div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 border-2 border-green-200 transition-colors duration-300">
                    <div class="text-sm text-green-700 font-semibold">Executed</div>
                    <div id="executedCount" class="text-3xl font-bold text-green-600">0</div>
                </div>
                <div id="ownerStats" class="bg-white rounded-xl shadow-lg p-6 border-2 border-emerald-200 hidden transition-colors duration-300">
                    <button id="withdrawBtn" class="w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-4 py-2 rounded-lg text-sm transition font-bold shadow-md" style="display:none;">üí∞ Withdraw</button>
                </div>
            </div>

            <div class="bg-white rounded-2xl shadow-2xl overflow-hidden border-4 border-orange-300 transition-colors duration-300">
                <div class="flex border-b-4 border-orange-200">
                    <button id="scheduleTab" class="flex-1 px-6 py-4 font-bold bg-gradient-to-r from-orange-500 to-yellow-500 text-white text-lg">Schedule Swap</button>
                    <button id="swapsTab" class="flex-1 px-6 py-4 font-bold text-gray-600 hover:bg-orange-50 text-lg transition">My Swaps</button>
                </div>

                <div id="scheduleContent" class="p-6 bg-gradient-to-br from-orange-50 to-yellow-50 transition-colors duration-300">
                    <div class="bg-gradient-to-r from-orange-100 to-yellow-100 border-2 border-orange-300 rounded-xl p-4 mb-6">
                        <p class="text-sm text-orange-900 font-medium">üå¥ <strong>How it works:</strong> Schedule your token swaps to execute automatically at your chosen time. Perfect for DCA strategies, timed entries/exits, or avoiding emotional trading!</p>
                    </div>

                    <div class="max-w-lg mx-auto space-y-4">
                        <div class="bg-white border-3 border-orange-300 rounded-2xl p-4 shadow-lg transition-colors duration-300">
                            <div class="flex justify-between items-center mb-2">
                                <label class="text-sm font-bold text-orange-700">From</label>
                            </div>
                            <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3">
                                <input type="number" step="0.001" id="amountIn" placeholder="0.0" class="flex-1 text-3xl font-bold bg-transparent border-none outline-none text-gray-800 w-full">
                                <select id="tokenIn" class="bg-gradient-to-r from-orange-100 to-yellow-100 border-3 border-orange-300 rounded-xl px-4 py-3 font-bold text-lg hover:border-orange-400 transition cursor-pointer w-full sm:w-auto sm:flex-shrink-0 sm:min-w-[140px]">
                                    <option value="0x0000000000000000000000000000000000000000">ETH</option>
                                    <option value="0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913">USDC</option>
                                    <option value="0x50c5725949A6F0c72E6C4a641F24049A917DB0Cb">DAI</option>
                                    <option value="0x532f27101965dd16442E59d40670FaF5eBB142E4">BRETT</option>
                                    <option value="0x940181a94A35A4569E4529A3CDfB74e38FD98631">AERO</option>
                                    <option value="0xAC1Bd2486aAf3B5C0fc3Fd868558b082a531B2B4">TOSHI</option>
                                    <option value="0x4ed4E862860beD51a9570b96d89aF5E1B0Efefed">DEGEN</option>
                                    <option value="0xA88594D404727625A9437C3f886C7643872296AE">WELL</option>
                                    <option value="0x0b3e328455c4059EEb9e3f84b5543F74E24e7E1b">VIRTUAL</option>
                                    <option value="0x78a087d713Be963Bf307b18F2Ff8122EF9A63ae9">ZORA</option>
                                    <option value="0x5F62728a88AEC4878E68DCf5c48dFf3a5d8f8b8E">AUKI</option>
                                    <option value="0x3C7f2d20C05C1Da0479D1A2B21AB899e1D7c8e3E">CLANKER</option>
                                    <option value="0x05C2ec8e2f5d1e8E05e49BdD0C8cf05c6e3FAC1B">GAME</option>
                                    <option value="0x8dEa9B7E7F3a5e6b4E9A5F6d7E3a9B4C5d6E7F8A">DRB</option>
                                    <option value="custom">Custom...</option>
                                </select>
                            </div>
                            <input type="text" id="customTokenIn" placeholder="Paste token address (0x...)" class="hidden w-full mt-3 px-3 py-2 border-2 border-orange-200 rounded-lg text-sm">
                        </div>

                        <div class="flex justify-center -my-2 relative z-10">
                            <button id="swapArrow" class="bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white rounded-xl p-3 shadow-xl transition transform hover:scale-110 hover:rotate-180 duration-300 border-3 border-white">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                                </svg>
                            </button>
                        </div>

                        <div class="bg-white border-3 border-green-300 rounded-2xl p-4 shadow-lg transition-colors duration-300">
                            <div class="flex justify-between items-center mb-2">
                                <label class="text-sm font-bold text-green-700">To (estimated)</label>
                                <div id="priceLoading" class="hidden text-xs text-orange-600 font-semibold">Fetching price...</div>
                            </div>
                            <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3">
                                <div class="flex-1 text-3xl font-bold text-gray-800 w-full" id="estimatedAmount">0.0</div>
                                <input type="number" step="0.001" id="minAmountOut" placeholder="0.0" class="hidden">
                                <select id="tokenOut" class="bg-gradient-to-r from-green-100 to-emerald-100 border-3 border-green-300 rounded-xl px-4 py-3 font-bold text-lg hover:border-green-400 transition cursor-pointer w-full sm:w-auto sm:flex-shrink-0 sm:min-w-[140px]">
                                    <option value="0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913">USDC</option>
                                    <option value="0x0000000000000000000000000000000000000000">ETH</option>
                                    <option value="0x50c5725949A6F0c72E6C4a641F24049A917DB0Cb">DAI</option>
                                    <option value="0x532f27101965dd16442E59d40670FaF5eBB142E4">BRETT</option>
                                    <option value="0x940181a94A35A4569E4529A3CDfB74e38FD98631">AERO</option>
                                    <option value="0xAC1Bd2486aAf3B5C0fc3Fd868558b082a531B2B4">TOSHI</option>
                                    <option value="0x4ed4E862860beD51a9570b96d89aF5E1B0Efefed">DEGEN</option>
                                    <option value="0xA88594D404727625A9437C3f886C7643872296AE">WELL</option>
                                    <option value="0x0b3e328455c4059EEb9e3f84b5543F74E24e7E1b">VIRTUAL</option>
                                    <option value="0x78a087d713Be963Bf307b18F2Ff8122EF9A63ae9">ZORA</option>
                                    <option value="0x5F62728a88AEC4878E68DCf5c48dFf3a5d8f8b8E">AUKI</option>
                                    <option value="0x3C7f2d20C05C1Da0479D1A2B21AB899e1D7c8e3E">CLANKER</option>
                                    <option value="0x05C2ec8e2f5d1e8E05e49BdD0C8cf05c6e3FAC1B">GAME</option>
                                    <option value="0x8dEa9B7E7F3a5e6b4E9A5F6d7E3a9B4C5d6E7F8A">DRB</option>
                                    <option value="custom">Custom...</option>
                                </select>
                            </div>
                            <input type="text" id="customTokenOut" placeholder="Paste token address (0x...)" class="hidden w-full mt-3 px-3 py-2 border-2 border-green-200 rounded-lg text-sm">
                            <div id="priceInfo" class="mt-3 space-y-1 text-sm hidden bg-green-50 p-3 rounded-lg border border-green-200">
                                <div class="flex justify-between text-green-800">
                                    <span class="font-semibold">Exchange Rate:</span>
                                    <span id="exchangeRate" class="font-bold">-</span>
                                </div>
                                <div class="flex justify-between text-green-800">
                                    <span class="font-semibold">Minimum received (<span id="slippageDisplay">5</span>% slippage):</span>
                                    <span id="minReceived" class="font-bold">-</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gradient-to-r from-yellow-50 to-orange-50 border-3 border-yellow-300 rounded-2xl p-4 mt-6 shadow-lg transition-colors duration-300">
                            <h3 class="font-bold text-orange-800 mb-3 text-lg">‚è∞ Execution Time</h3>
                            <div class="space-y-2 mb-3">
                                <label class="flex items-center space-x-3 cursor-pointer bg-white p-3 rounded-xl hover:bg-yellow-50 transition border-2 border-yellow-200">
                                    <input type="radio" name="timeOption" value="now" id="timeNow" class="w-5 h-5 text-orange-600">
                                    <span class="font-bold text-gray-800">Execute Now (Instant Swap)</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer bg-white p-3 rounded-xl hover:bg-yellow-50 transition border-2 border-yellow-200">
                                    <input type="radio" name="timeOption" value="scheduled" id="timeScheduled" checked class="w-5 h-5 text-orange-600">
                                    <span class="font-bold text-gray-800">Schedule for Later</span>
                                </label>
                            </div>
                            <div id="scheduledTimeInputs" class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-sm font-bold text-orange-700 mb-1">Date</label>
                                    <input type="date" id="executionDate" class="w-full px-3 py-2 border-3 border-orange-200 rounded-xl font-semibold">
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-orange-700 mb-1">Time</label>
                                    <input type="time" id="executionTime" class="w-full px-3 py-2 border-3 border-orange-200 rounded-xl font-semibold">
                                </div>
                            </div>
                            <p id="scheduledTimeNote" class="text-sm text-orange-800 mt-2 font-medium">Executes automatically at this time (within 1 hour window)</p>
                            <p id="instantTimeNote" class="text-sm text-orange-800 mt-2 font-medium hidden">Swap executes immediately after confirmation</p>
                        </div>

                        <div class="bg-gradient-to-r from-green-100 to-emerald-100 rounded-xl p-4 border-2 border-green-300 transition-colors duration-300">
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-green-800 font-semibold">Platform Fee</span>
                                <span class="font-bold text-green-900">0.3%</span>
                            </div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-green-800 font-semibold">Execution Fee</span>
                                <span class="font-bold text-green-900">0.2%</span>
                            </div>
                            <div class="flex justify-between text-sm pt-2 border-t-2 border-green-300">
                                <span class="font-bold text-green-900">Total Fee</span>
                                <span class="font-bold text-orange-600 text-lg">0.5%</span>
                            </div>
                        </div>

                        <button id="scheduleSwapBtn" class="w-full bg-gradient-to-r from-orange-500 via-yellow-500 to-green-500 hover:from-orange-600 hover:via-yellow-600 hover:to-green-600 text-white font-black py-5 rounded-2xl transition text-xl shadow-2xl transform hover:scale-105 border-4 border-white">
                            ü•≠ Schedule Swap üå¥
                        </button>
                    </div>
                </div>

                <div id="swapsContent" class="p-6 hidden transition-colors duration-300">
                    <div id="swapsList"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const CONTRACT_ADDRESS = '0xde6d1499acfb534b36b31e2f1efff90d5af819d7';
        const BASE_CHAIN_ID = '0x2105';
        const ABI = ["function scheduleSwap(address,address,uint256,uint256,uint256) external payable returns(uint256)","function cancelSwap(uint256) external","function getSwap(uint256) external view returns(tuple(uint256,address,address,address,uint256,uint256,uint256,uint8,uint256,uint256))","function getUserSwaps(address) external view returns(uint256[])","function getTotalSwaps() external view returns(uint256)","function withdrawFees() external","function owner() external view returns(address)"];

        const TOKENS = {'0x0000000000000000000000000000000000000000':'ETH','0x833589fcd6edb6e08f4c7c32d4f71b54bda02913':'USDC','0x50c5725949a6f0c72e6c4a641f24049a917db0cb':'DAI','0x532f27101965dd16442e59d40670faf5ebb142e4':'BRETT','0x940181a94a35a4569e4529a3cdfb74e38fd98631':'AERO','0xac1bd2486aaf3b5c0fc3fd868558b082a531b2b4':'TOSHI','0x4ed4e862860bed51a9570b96d89af5e1b0efefed':'DEGEN','0xa88594d404727625a9437c3f886c7643872296ae':'WELL','0x0b3e328455c4059eeb9e3f84b5543f74e24e7e1b':'VIRTUAL','0x78a087d713be963bf307b18f2ff8122ef9a63ae9':'ZORA','0x5f62728a88aec4878e68dcf5c48dff3a5d8f8b8e':'AUKI','0x3c7f2d20c05c1da0479d1a2b21ab899e1d7c8e3e':'CLANKER','0x05c2ec8e2f5d1e8e05e49bdd0c8cf05c6e3fac1b':'GAME','0x8dea9b7e7f3a5e6b4e9a5f6d7e3a9b4c5d6e7f8a':'DRB'};

        const WETH = '0x4200000000000000000000000000000000000006';
        let provider, signer, contract, account, isOwner = false;
        let quoteTimeout;
        let selectedWallet = null;
        
        // Settings state
        let currentTheme = 'light';
        let slippageTolerance = 5;

        // Load saved settings
        function loadSettings() {
            const savedTheme = localStorage.getItem('mangoswap_theme') || 'light';
            const savedSlippage = localStorage.getItem('mangoswap_slippage') || '5';
            currentTheme = savedTheme;
            slippageTolerance = parseFloat(savedSlippage);
            applyTheme(currentTheme);
            updateSlippageUI();
        }

        // Apply theme
        function applyTheme(theme) {
            const body = document.body;
            const isDark = theme === 'dark';
            
            if (isDark) {
                body.classList.remove('bg-gradient-to-br', 'from-orange-100', 'via-yellow-50', 'to-green-100');
                body.classList.add('bg-gradient-to-br', 'from-gray-900', 'via-gray-800', 'to-gray-900');
                
                document.querySelectorAll('.bg-white').forEach(el => {
                    el.classList.remove('bg-white');
                    el.classList.add('bg-gray-800', 'text-white');
                });
                
                document.querySelectorAll('.text-gray-700, .text-gray-800, .text-gray-600').forEach(el => {
                    el.classList.add('text-gray-200');
                });
                
                document.getElementById('lightTheme').classList.remove('bg-white', 'border-purple-300', 'text-purple-900');
                document.getElementById('lightTheme').classList.add('border-gray-600', 'text-gray-400');
                document.getElementById('darkTheme').classList.remove('border-gray-600', 'text-gray-600');
                document.getElementById('darkTheme').classList.add('bg-gray-700', 'border-purple-400', 'text-white');
            } else {
                body.classList.remove('bg-gradient-to-br', 'from-gray-900', 'via-gray-800', 'to-gray-900');
                body.classList.add('bg-gradient-to-br', 'from-orange-100', 'via-yellow-50', 'to-green-100');
                
                document.querySelectorAll('.bg-gray-800').forEach(el => {
                    el.classList.remove('bg-gray-800', 'text-white');
                    el.classList.add('bg-white');
                });
                
                document.getElementById('darkTheme').classList.remove('bg-gray-700', 'border-purple-400', 'text-white');
                document.getElementById('darkTheme').classList.add('border-gray-600', 'text-gray-600');
                document.getElementById('lightTheme').classList.remove('border-gray-600', 'text-gray-400');
                document.getElementById('lightTheme').classList.add('bg-white', 'border-purple-300', 'text-purple-900');
            }
            
            localStorage.setItem('mangoswap_theme', theme);
        }

        // Update slippage UI
        function updateSlippageUI() {
            document.querySelectorAll('.slippage-btn').forEach(btn => {
                const value = parseFloat(btn.dataset.value);
                if (value === slippageTolerance) {
                    btn.classList.add('bg-orange-500', 'text-white', 'border-orange-500');
                    btn.classList.remove('border-orange-200');
                } else {
                    btn.classList.remove('bg-orange-500', 'text-white', 'border-orange-500');
                    btn.classList.add('border-orange-200');
                }
            });
            document.getElementById('slippageDisplay').textContent = slippageTolerance;
            localStorage.setItem('mangoswap_slippage', slippageTolerance.toString());
        }

        // Initialize settings
        loadSettings();

        // Settings button
        document.getElementById('settingsBtn').addEventListener('click', () => {
            document.getElementById('settingsModal').classList.remove('hidden');
        });

        document.getElementById('closeSettings').addEventListener('click', () => {
            document.getElementById('settingsModal').classList.add('hidden');
        });

        // Theme toggle
        document.getElementById('lightTheme').addEventListener('click', () => {
            currentTheme = 'light';
            applyTheme('light');
        });

        document.getElementById('darkTheme').addEventListener('click', () => {
            currentTheme = 'dark';
            applyTheme('dark');
        });

        // Slippage buttons
        document.querySelectorAll('.slippage-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                slippageTolerance = parseFloat(btn.dataset.value);
                updateSlippageUI();
                getQuote();
            });
        });

        // Custom slippage input
        document.getElementById('customSlippage').addEventListener('input', (e) => {
            const value = parseFloat(e.target.value);
            if (value && value > 0 && value <= 50) {
                slippageTolerance = value;
                updateSlippageUI();
                getQuote();
            }
        });
